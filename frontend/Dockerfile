# # 1. ë¹Œë“œ ë‹¨ê³„: Node.js Alpine ì‚¬ìš©
# FROM node:22.13.1-alpine

# # ì‘ì—… ë””ë ‰í† ë¦¬ ì„¤ì •
# WORKDIR /app

# # package.jsonê³¼ package-lock.jsonì„ ë³µì‚¬
# COPY package*.json ./

# # ì˜ì¡´ì„± ì„¤ì¹˜
# RUN npm install

# # âœ… react-scriptsì— ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬      #k8sì—ì„œ ì• ëŸ¬ ëœ¸(ê¶Œí•œ ë¬¸ì œ)
# RUN chmod +x node_modules/.bin/react-scripts


# # ì†ŒìŠ¤ ì½”ë“œ ë³µì‚¬
# COPY . .

# # ë¦¬ì•¡íŠ¸ ì•± ë¹Œë“œ
# CMD ["npm", "start"]

# # global serve ì„¤ì¹˜
# RUN npm install -g serve

# # ì •ì  íŒŒì¼ ì„œë¹™
# CMD ["serve", "-s", "build", "-l", "3000"]



FROM node:22.13.1-alpine

WORKDIR /app

COPY package*.json ./
RUN npm install

COPY . .

# ğŸ‘‰ ì•± ë¹Œë“œ
RUN npm run build

# ğŸ‘‰ ì •ì  íŒŒì¼ ì„œë¹™ì„ ìœ„í•œ serve ì„¤ì¹˜
RUN npm install -g serve

# ğŸ‘‰ ìµœì¢… ì‹¤í–‰ ëª…ë ¹
CMD ["serve", "-s", "build", "-l", "3000"]
